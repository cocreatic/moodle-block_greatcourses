{"version":3,"sources":["../src/main.js"],"names":["define","$","str","strings","key","component","s","length","forEach","one","get_strings","then","results","pos","init","on","$input","select","document","execCommand","$msg","parent","append","window","setTimeout","remove"],"mappings":"AAuBAA,OAAM,2BAAC,CAAC,QAAD,CAAW,UAAX,CAAD,CAAyB,SAASC,CAAT,CAAYC,CAAZ,CAAiB,IAGxCC,CAAAA,CAAO,CAAG,CACD,CAAEC,GAAG,CAAE,6BAAP,CAAsCC,SAAS,CAAE,oBAAjD,CADC,CAH8B,CAMxCC,CAAC,CAAG,EANoC,CAQ5C,GAAqB,CAAjB,CAAAH,CAAO,CAACI,MAAZ,CAAwB,CAEpBJ,CAAO,CAACK,OAAR,CAAgB,SAAAC,CAAG,CAAI,CACnBH,CAAC,CAACG,CAAG,CAACL,GAAL,CAAD,CAAaK,CAAG,CAACL,GACpB,CAFD,EAIAF,CAAG,CAACQ,WAAJ,CAAgBP,CAAhB,EAAyBQ,IAAzB,CAA8B,SAAUC,CAAV,CAAmB,CAC7C,GAAIC,CAAAA,CAAG,CAAG,CAAV,CACAV,CAAO,CAACK,OAAR,CAAgB,SAAAC,CAAG,CAAI,CACnBH,CAAC,CAACG,CAAG,CAACL,GAAL,CAAD,CAAaQ,CAAO,CAACC,CAAD,CAApB,CACAA,CAAG,EACN,CAHD,CAIH,CAND,CAOH,CAsBD,MAAO,CACHC,IAAI,CAhBG,QAAPA,CAAAA,IAAO,EAAW,CAClBb,CAAC,CAAC,4BAAD,CAAD,CAA8Bc,EAA9B,CAAiC,OAAjC,CAA0C,UAAW,CACjD,GAAIC,CAAAA,CAAM,CAAGf,CAAC,CAAC,IAAD,CAAd,CACAe,CAAM,CAACC,MAAP,GACAC,QAAQ,CAACC,WAAT,CAAqB,MAArB,EAEA,GAAIC,CAAAA,CAAI,CAAGnB,CAAC,CAAC,sCAAsCK,CAAC,4BAAvC,CAAyE,QAA1E,CAAZ,CAEAU,CAAM,CAACK,MAAP,GAAgBC,MAAhB,CAAuBF,CAAvB,EACAG,MAAM,CAACC,UAAP,CAAkB,UAAW,CACzBJ,CAAI,CAACK,MAAL,EACH,CAFD,CAEG,IAFH,CAGH,CAXD,CAYH,CAEM,CAGV,CA9CK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript to initialise the block.\n *\n * @package   block_greatcourses\n * @copyright 2020 David Herney @ BambuCo\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery', 'core/str'], function($, str) {\n\n    // Load strings.\n    var strings = [];\n    strings.push({ key: 'courselinkcopiedtoclipboard', component: 'block_greatcourses' });\n\n    var s = [];\n\n    if (strings.length > 0) {\n\n        strings.forEach(one => {\n            s[one.key] = one.key;\n        });\n\n        str.get_strings(strings).then(function (results) {\n            var pos = 0;\n            strings.forEach(one => {\n                s[one.key] = results[pos];\n                pos++;\n            });\n        });\n    }\n    // End of Load strings.\n\n    /**\n     * Initialise all for the block.\n     *\n     */\n    var init = function() {\n        $('input[name=\"courselink\"]').on('click', function() {\n            var $input = $(this);\n            $input.select();\n            document.execCommand(\"copy\");\n\n            var $msg = $('<div class=\"msg-courselink-copy\">' + s['courselinkcopiedtoclipboard'] + '</div>');\n\n            $input.parent().append($msg);\n            window.setTimeout(function() {\n                $msg.remove();\n            }, 1600);\n        });\n    };\n\n    return {\n        init: init\n    };\n});\n"],"file":"main.min.js"}